{% extends 'base.html' %}


{% block content %}
<style>
  .dataTables_filter {
    text-align: right;
  }
</style>
<div class="container mt-4">
  <h1 class="text-center">Depot 2025 Table</h1>
  {% if schemes %}
  <table id="depot24" class="table table-striped table-bordered" style="width:1400px; text-align: center;">
    <thead>
      <tr>
        <th>Scheme Reference</th>
        <th>Planning Status</th>
        <th>Block Number</th>
        <th>Substation Number</th>
        <th>Transformer Number</th>
        <th>Feeder Number</th>
        <th>LVB Number</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for scheme in schemes %}
      <tr>
        <td>{{ scheme.REFRENCENUMBER }}</td>
        <td>{{ scheme.PlanStatus }}</td>
        <td>{{ scheme.BLOCKNUMBER }}</td>
        <td>{{ scheme.SUBSTATIONNUMBER }}</td>
        <td>{{ scheme.TX }}</td>
        <td>{{ scheme.FEEDERNUMBER }}</td>
        <td>{{ scheme.LVBNUMBER }}</td>
        <td>
          <button class="btn btn-sm btn-primary me-1" onclick="">
            <i class="fas fa-eye"></i> View
          </button>
          <button class="btn btn-sm btn-warning me-1" onclick="">
            <i class="fas fa-edit"></i> Edit
          </button>
          {% if is_admin %}
          <form action="{% url 'delete_depot24' scheme.id %}" method="post" style="display:inline;">
            {% csrf_token %}
            <button type="submit" class="btn btn-sm btn-danger"
              onclick="return confirm('Are you sure you want to delete this permit?');">
              <i class="fas fa-trash"></i> Delete
            </button>
          </form>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <h1 style="text-align: center; margin-top: 100px;">No Data Available</h1>
  {% endif %}
</div>





<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/datatables.net@2.2.2/js/dataTables.min.js"></script>
<script src="https://cdn.datatables.net/2.2.2/js/dataTables.bootstrap5.min.js"></script>

<script>
  $(document).ready(function () {
    var table = $('#depot24').DataTable({

    });

  })
</script>
{% endblock %}